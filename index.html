<!DOCTYPE html>

<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" charset="UTF-8"/>
        <title>The Old Sea Turtle</title>

        <!-- Load libraries -->
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script type="text/javascript" src="res/json/loader.js"></script>

        <!-- Load databases -->
        <script type="text/javascript" src="res/json/Beverages.js"></script>
        <script type="text/javascript" src="res/json/DBLoaded.js"></script>
    </head>
    <body>
    <!---
        Placing an order:
        1. jQuery append "Order now" button to body
        2. Append div with list of clickable beverages
        3. Add clicked items to model list
        4. When "Place order" button is clicked, print the model list and order confirmation

        Editing an order:
        1. jQuery append "Edit order" button to ordering interface
        2. When "Edit order" button is clicked, print the model list
        3. Add div with list of clickable beverages marked 'X'
        4. When beverages are click removed, remove them from the model list
        5. When user saves, update the model list and return to ordering interface
    -->
        <script>
            $("document").ready(function() {    // When document is ready/loaded
                $("body").append("<h1>Page loaded successfully</h1>");  // Append header element to body
                $("body").append("<p>Open the console to test the functions</p>");
                $("body").append("<p id='demo'></p>"); // Append empty paragraph element to body
                $("#demo").text("Hello world!");    // Modify the text of the above paragraph element
                
                // Load JSON database and for each key (entry),
                // print that corresponding value's name.
                $.getJSON("res/json/Beverages.js", function(data) { // Load JSON database
                    $.each(data, function(key, val) {   // Iterate over entries
                        console.log(val.name + ", " + val.country);  // Print the name of the entry
                    });
                }).fail(function(jqXHR, textStatus) {
                    console.log("error: " + textStatus);
                    console.log("incoming Text: " + jqXHR.responseText);
                });

                $("body").append("<button id='orderNow'>Order now</button>");  // Append button element to body
                $("#orderNow").on("click", function(){
                    $("body").append("<div id='beverages'></div>");  // Append div element to body
                    $.getJSON("res/json/Beverages.js", function(data) { // Load JSON database
                        $.each(data, function(key, val) {   // Iterate over entries
                            // Create paragraph element, attach click handler, and append to div
                            $("<p>").text(val.name).on("click", function() {
                                console.log("You clicked " + val.name);
                            }).appendTo("#beverages");
                        });
                    });
                    $("body").append("<button id='placeOrder'>Place order</button>");  // Append button element to body 
                });
            });
        </script>
    </body>
</html>
